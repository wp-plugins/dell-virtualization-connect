/*!
 * Dell Blog Network Javascript
 *///Return jQuery back to its owner if it exists
$.noConflict(),function(a,b,c){function k(){if(typeof _dec!="undefined"){m("found _dec, executing functions...");while(_dec.length>0){var a=_dec.shift();l(a)}}else _dec=[];_dec.push=l}function l(a){var b=null,c=!1,e=a.shift();switch(e){case"setBaseUrl":b=y;break;case"setClientId":b=q;break;case"setDivision":b=r;break;case"getFeed":b=n;break;case"updateFeed":b=o;break;case"getBlogList":b=p;break;case"logBaseUrl":b=A;break;case"enableDebug":b=z;break;case"setBlogStatus":b=t;break;case"setBacklinkActive":b=s;break;case"setBlogRoll":b=w;break;case"addBlogRoll":b=x;break;case"addBlog":b=u;break;case"removeBlog":b=v}typeof b=="function"&&b.apply(d,a)}function m(a){j&&b.console&&console.log(a)}function n(b,c){var d={clientId:g,division:h};B("articles/feed",d,function(d){var f=d.data.blogs,g=d.data.client,h="<ul>";m("Feed Ajax Response"),m(d);for(var i=0;i<b&&i<f.length;i++)"undefined"!=typeof f[i].currentArticle&&(h+='<li><strong><a target="_blank" rel="nofollow" href="'+e+"/click?url="+encodeURIComponent(f[i].currentArticle.link)+'">'+f[i].currentArticle.title+"</a></strong><br>",c&&(h+='<span class="dec-description">'+C(f[i].currentArticle.description,30)+"...</span><br>"),h+='<span class="dec-posted-by">Posted by <a rel="nofollow" target="_blank" href="'+f[i].url+'">'+f[i].title+"</a></span></li>");h+="</ul>",g.backlinkActive&&(h+='<a href="'+g.backlink+'">'+g.backlinkText+"</a>"),a("#dell_edu_content").html(h)})}function o(){var a={clientId:g};B("feed.updatebyclient",a,function(a){m(["Feed Updated",a])})}function p(){var b={clientId:g,division:h};B("blog/list",b,function(b){m(["Blog List Ajax Response",b]);var c=b.data.client,d=b.data.categories,e="";for(category in d){e+="<h3>"+category+"</h3>",e+="<ul>";for(var f=0;f<d[category].length;f++){var g=d[category][f].title,h=d[category][f].description,i=d[category][f].url;g=="false"&&(g=""),h=="false"&&(h=""),i=="false"&&(i=""),e+='<li id="blog_'+d[category][f]._id+'" style="clear:both;"><p style="float:left;margin-right:10px;">';if(category=="User Added")e+="<a href=\"\" onclick=\"javascript:var remblog=confirm('Are you sure you want to remove this blog from your list?'); if(remblog) { _dec.push(['removeBlog','"+d[category][f]._id+'\']); return false;}"><i class="icon-remove"></i></a>';else{e+="<input onclick=\"_dec.push(['setBlogStatus','"+d[category][f]._id+'\']);" type="checkbox" name="blog" id="'+d[category][f]._id+'" value="'+d[category][f]._id+'"';var j=" checked ";for(var k=0;k<c.excludes.length;k++)d[category][f]._id==c.excludes[k]&&(j="");e+=j,e+="/>"}e+="</p><p><strong>"+g+"</strong> - "+h+"<br />"+i+"</p></li>"}e+="</ul>"}e+='<div><p style="float:left;margin-right:10px;">',e+='<input onclick="_dec.push([\'setBacklinkActive\']);" type="checkbox" id="dec_backlink_active" name="backlinkstatus" value="active"',c.backlinkActive==1&&(e+=" checked "),e+="/></p><p><strong>Show Sponsor Link</strong><br />Please help support the development of this plugin by keeping this checked.</p></div>",e+='<button class="button" onclick="_dec.push([\'updateFeed\']);">Save Settings</button>',a("#dec_blogs").html(e)})}function q(a){g=a}function r(a){h=a}function s(){var b={clientId:g,backlinkActive:a("#dec_backlink_active").attr("checked")};m(["Changing backlink status: ",b]),B("client/backlinktoggle",b,function(a){m(["Backlink Status Response",a])})}function t(b){var c={clientId:g,blogId:b,include:a("#"+b).attr("checked")},d="Including Blog";m(["Toggling blog status for client",b,c]),B("blog/exclude",c,function(a){m(["Blog Status Response",a])})}function u(){a(".dbn_error").hide(),a("#edu_connect_btn_addblog").attr("disabled",!0);var c=a("#edu_connect_text_addblog").val(),d={clientId:g,division:h,url:c};m(["Adding Bolg: ",d]),B("client/addblog",d,function(c){m(["Blog Add Response",c]),c.error?(a(".dbn_error").text("Error adding blog: "+c.error).show(),a("#edu_connect_btn_addblog").removeAttr("disabled")):b.location.reload(!0)})}function v(b){var c={clientId:g,blogId:b};m(["Removing blog for client",b,c]),B("blog/remove",c,function(c){m(["Blog Remove Response",c]),a("#blog_"+b).hide()})}function w(a){m(["Setting blog roll",a]),i=a}function x(){if(i!=null){a("#edu_connect_btn_blogroll").attr("disabled",!0);var c={clientId:g,blogs:i,division:h};m(["Adding BlogRoll: ",c]),B("client/addblogroll",c,function(a){m(["Blog Add Response",a]),b.location.reload(!0)})}else m("No Blog Roll Set...")}function y(a){e=a}function z(){j=!0}function A(){m("Base Url: "+e)}function B(b,c,d){var g;if(b===!1&&typeof ajaxurl!="undefined")g={url:ajaxurl,method:"post",type:"json",data:c};else{var h=e+"/"+b;g={url:h,type:"jsonp",jsonpCallback:f,data:c,success:d}}a.ajax(g)}function C(a,b){return expString=a.split(/\s+/,b),theNewString=expString.join(" "),theNewString}var d=this,e="http://dell.system-11.com",f="ec_callback",g,h,i,j;k()}(ender,window,document);